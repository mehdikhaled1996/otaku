<!DOCTYPE html><html lang="ar"><head>  <meta charset="UTF-8">  <title>فاحص عبارات Mnemonic (BTC/ETH)</title>
  <!-- 1) تحميل الـUMD bundle الرسمي الخاص بـbip39 -->  <script src="https://unpkg.com/bip39@3.0.4/browser/bip39.min.js"></script>  <!-- 2) باقي المكتبات بصيغة UMD -->  <script src="https://cdn.jsdelivr.net/npm/hdkey@1.1.1/dist/hdkey.min.js"></script>  <script src="https://cdn.jsdelivr.net/npm/ethereumjs-util@7.1.3/dist/index.umd.js"></script>  <script src="https://cdn.jsdelivr.net/npm/bitcoinjs-lib@6.1.0/dist/bitcoinjs.min.js"></script>
  <style>    body { background:#000; color:#33ff33; font-family:monospace; padding:1rem; }    input,button{ width:100%;max-width:500px;padding:.5rem;margin:.5rem 0;background:#111;color:#33ff33;border:1px solid #33ff33;cursor:pointer; }    button:hover{ background:#222 }    #summary{margin-top:1rem;font-weight:bold}    #results{background:#111;padding:.5rem;max-height:400px;overflow:auto;margin-top:1rem}    #results div{padding:4px 0;border-bottom:1px dashed #222}    #results div:last-child{border:none}    .good{color:#0f0} .bad{color:#f33} .limit{color:#ff3;font-weight:bold}  </style></head><body>  <h2>فاحص عبارات Mnemonic (BTC/ETH)</h2>  <input type="file" id="fileInput" accept=".txt">  <button onclick="scanFile()">بدء الفحص</button>  <div id="summary">لم يتم الفحص بعد.</div>  <div id="results"></div>
  <script>    const CORS = 'https://corsproxy.io/?';
    async function safeFetchJson(url) {      try {        const res = await fetch(CORS + encodeURIComponent(url));        if (res.status === 429) throw new Error('rate_limit');        if (!res.ok) return null;        return await res.json();      } catch (e) {        if (e.message === 'rate_limit') throw e;        return null;      }    }
    async function checkBtc(addr) {      const j = await safeFetchJson(`https://blockstream.info/api/address/${addr}`);      if (!j || !j.chain_stats) return 0;      return (j.chain_stats.funded_txo_sum - j.chain_stats.spent_txo_sum) / 1e8;    }
    async function checkEth(addr) {      const j = await safeFetchJson(        `https://api.etherscan.io/api?module=account&action=balance&address=${addr}&tag=latest`      );      if (!j || !j.result) return 0;      return parseInt(j.result, 10) / 1e18;    }
    function deriveBtc(seed) {      const root = hdkey.fromMasterSeed(seed);      const child = root.derive("m/44'/0'/0'/0/0");      return bitcoinjs.payments.p2pkh({ pubkey: child.publicKey }).address;    }
    function deriveEth(seed) {      const root = hdkey.fromMasterSeed(seed);      const child = root.derive("m/44'/60'/0'/0/0");      return '0x' + ethereumjs.Util.pubToAddress(child.publicKey, true).toString('hex');    }
    async function scanPhrase(p) {      if (!bip39.validateMnemonic(p)) return {ok:false};      const seed = await bip39.mnemonicToSeed(p);      const aB = deriveBtc(seed), aE = deriveEth(seed);      const bB = await checkBtc(aB);      if (bB>0) return {ok:true,chain:'BTC',addr:aB,balance:bB+' BTC'};      const bE = await checkEth(aE);      if (bE>0) return {ok:true,chain:'ETH',addr:aE,balance:bE+' ETH'};      return {ok:false};    }
    async function scanFile() {      const file = document.getElementById('fileInput').files[0];      if (!file) {        document.getElementById('summary').textContent = ' يرجى رفع ملف العبارات أولاً.';        return;      }      const txt = await file.text();      const lines = txt.trim().split(/\r?\n/).filter(l=>l.trim());      const total = lines.length;      const out = document.getElementById('results');      out.innerHTML = '';      let found=0,notfound=0,stopped=false;
      for (let i=0; i<total && !stopped; i++) {        document.getElementById('summary').innerHTML = ` تم فحص <b>${i+1}/${total}</b> عبارة`;        try {          const r = await scanPhrase(lines[i]);          if (r.ok) {            found++;            out.innerHTML += `<div class="good"> [${r.chain}] ${lines[i]} → ${r.addr} (${r.balance})</div>`;          } else {            notfound++;            out.innerHTML += `<div class="bad"> ${lines[i]}</div>`;          }        } catch(e) {          if (e.message==='rate_limit') {            stopped=true;            out.innerHTML += `<div class="limit"> تم الوصول للحد الأقصى لطلبات API، توقف الفحص.</div>`;          } else {            notfound++;            out.innerHTML += `<div class="bad"> ${lines[i]} (خطأ: ${e.message})</div>`;          }        }        out.scrollTop = out.scrollHeight;        await new Promise(r=>setTimeout(r,100));      }
      let summary = ` صالحة: ${found} | غير صالحة: ${notfound}`;      if (stopped) summary += ' | توقف بسبب تجاوز الحد.';      document.getElementById('summary').innerHTML = summary;    }  </script></body></html>

<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Seed Phrase Checker (BTC & ETH)</title>
  <script src="https://cdn.jsdelivr.net/npm/bip39@3.0.4/dist/bip39.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hdkey@1.1.1/dist/hdkey.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethereumjs-util@7.1.3/dist/index.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bitcoinjs-lib@6.1.0/dist/bitcoinjs.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #00ff99;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #00ffcc;
    }
    textarea {
      width: 100%;
      height: 100px;
      font-size: 1rem;
      padding: 10px;
      border: 2px solid #00ffcc;
      border-radius: 8px;
      background-color: #1e1e1e;
      color: #00ff99;
    }
    button {
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #00ffcc;
      border: none;
      color: #000;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 6px;
    }
    .result {
      margin-top: 20px;
      background: #1e1e1e;
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #00ffcc;
    }
    .result p {
      margin: 5px 0;
    }
  </style>
</head>
<body>
  <h1>🔐 فاحص Seed Phrase - BTC & ETH</h1>
  <p>أدخل 12 أو 24 كلمة:</p>
  <textarea id="seedPhrase" placeholder="مثال: abandon abandon abandon ..."></textarea><br>
  <button onclick="checkPhrase()">فحص الآن</button> <div class="result" id="output" style="display: none;"></div> <script>
    function deriveAddresses(seed) {
      const root = hdkey.fromMasterSeed(seed);

      // BTC: m/44'/0'/0'/0/0
      const btcChild = root.derive("m/44'/0'/0'/0/0");
      const btcAddress = bitcoin.payments.p2pkh({ pubkey: btcChild.publicKey }).address;

      // ETH: m/44'/60'/0'/0/0
      const ethChild = root.derive("m/44'/60'/0'/0/0");
      const ethAddress = '0x' + ethereumjs.Util.pubToAddress(ethChild.publicKey, false).toString('hex');

      return { btc: btcAddress, eth: ethAddress };
    }

    async function checkPhrase() {
      const phrase = document.getElementById("seedPhrase").value.trim();
      const output = document.getElementById("output");
      output.style.display = "block";

      if (!bip39.validateMnemonic(phrase)) {
        output.innerHTML = "❌ عبارة غير صالحة.";
        return;
      }

      const seed = await bip39.mnemonicToSeed(phrase);
      const addresses = deriveAddresses(seed);

      output.innerHTML = `✅ عبارة صالحة:<br><br>
        <p><strong>BTC Address:</strong> ${addresses.btc}</p>
        <p><strong>ETH Address:</strong> ${addresses.eth}</p>
        <p>📋 انسخ العناوين وتفقد الرصيد في blockchair.com</p>`;
    }
  </script></body>
</html>
